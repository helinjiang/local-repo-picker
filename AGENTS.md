# 项目协作约定

## 目标

- 变更应可回归、可解释、可验证
- 默认不引入新核心功能，优先优化现有能力

## 文件与目录命名

- 新增文件与目录使用小写中横线命名方式（kebab-case）
- 不新增小驼峰或大驼峰文件名

## 代码与文档

- 优先通过命名与结构表达意图，确有必要时再补充注释
- 当新增或调整公共 API、CLI 用法、配置项或对外行为时，及时更新 README.md
- 文档示例应可直接运行或对齐当前代码

## 编码约定

- src 内部导入路径不写 .js 后缀，构建阶段自动补全
- ESM 为主，避免引入 CommonJS 风格写法
- 避免 any，类型集中在 core/types.ts
- 日志统一使用 core/logger，DEBUG=1 才输出详细信息

## 质量与测试

- 变更后至少运行 typecheck 与相关测试
- 新增核心逻辑时补充单元测试
- 影响用户体验的改动需有明确可验证说明

## 稳定性与降级

- 外部依赖不可用时必须降级而非崩溃
- UI 与 CLI 需保持输出一致性与友好提示
- cache 损坏需自动修复或重建

## 变更与说明

- 优先复用现有工具与规范，保持项目一致性
- 提供清晰的变更说明与示例，方便后续协作
- 涉及行为变化时在 README 中标明

## 变更规范

- 优先复用现有工具与规范，保持项目一致性
- 尽量提供清晰的变更说明与示例，方便后续协作
